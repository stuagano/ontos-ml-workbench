%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#FF3621','primaryTextColor':'#fff','primaryBorderColor':'#1B3A57','lineColor':'#5f6368','secondaryColor':'#1B3A57','tertiaryColor':'#E8E8E8'}}}%%
flowchart TB
    subgraph Phase1["Phase 1: EDGE"]
        E1[On-Premise Processing]
        E2[Local Delta Lake]
        E3[Periodic Sync]
        E1 --> E2 --> E3
    end

    subgraph Phase2["Phase 2: CLOUD"]
        C1[Real-Time Streaming]
        C2[Direct Connection]
        C3[Continuous Sync]
        C1 --> C2 --> C3
    end

    subgraph Phase3["Phase 3: AIRGAP"]
        A1[GovCloud/FedRAMP]
        A2[Secure Transport]
        A3[Batch Sync]
        A1 --> A2 --> A3
    end

    subgraph Phase4["Phase 4: CLEAN ROOMS"]
        CR1[Delta Sharing]
        CR2[B2B Data Exchange]
        CR3[Zero-Copy Access]
        CR1 --> CR2 --> CR3
    end

    subgraph Hub["VITAL Platform Hub"]
        UC[Unity Catalog]
        DL[Delta Lake]
        ML[ML/Analytics]
        UC --> DL --> ML
    end

    E3 ==>|Sync| Hub
    C3 ==>|Stream| Hub
    A3 ==>|Batch| Hub
    Hub -.->|Share| CR1

    style Phase1 fill:#1B3A57,stroke:#FF3621,stroke-width:3px,color:#fff
    style Phase2 fill:#1B3A57,stroke:#FF3621,stroke-width:3px,color:#fff
    style Phase3 fill:#1B3A57,stroke:#FF3621,stroke-width:3px,color:#fff
    style Phase4 fill:#1B3A57,stroke:#FF3621,stroke-width:3px,color:#fff
    style Hub fill:#FF3621,stroke:#1B3A57,stroke-width:4px,color:#fff
