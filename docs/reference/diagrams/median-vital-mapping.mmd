%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#FF3621','primaryTextColor':'#fff','primaryBorderColor':'#1B3A57','lineColor':'#5f6368','secondaryColor':'#1B3A57','tertiaryColor':'#E8E8E8'}}}%%
flowchart TB
    subgraph MEDIAN["MEDIAN Foundation (Lego Bricks)"]
        M1[Schema-Creation Utility]
        M2[Data Quality Framework]
        M3[Metadata-Driven Ingestion]
        M4[Model Training Toolkit]
        M5[Databricks Watchdog]
        M6[Data Catalog]
        M7[Service Principal Utility]
    end

    subgraph VITAL["VITAL AI Lifecycle (Assembly Line)"]
        V1[DATA Stage]
        V2[TEMPLATE Stage]
        V3[CURATE Stage]
        V4[TRAIN Stage]
        V5[DEPLOY Stage]
        V6[MONITOR Stage]
        V7[IMPROVE Stage]
    end

    M1 -->|"State tables"| V1
    M1 -->|"State tables"| V2
    M1 -->|"State tables"| V3
    M3 -->|"+ AI extraction"| V1
    M2 -->|"+ Human review"| V3
    M4 -->|"+ Guided workflow"| V4
    M7 -->|"+ Model Serving"| V5
    M5 -->|"+ AI metrics"| V6
    M6 -->|"Prompts, Tools, Agents"| V2

    subgraph Insight["Key Insight"]
        I1["Every MEDIAN utility becomes a VITAL component"]
        I2["Build once, compose into AI lifecycle"]
    end

    style MEDIAN fill:#1B3A57,stroke:#FF3621,stroke-width:3px,color:#fff
    style VITAL fill:#FF3621,stroke:#1B3A57,stroke-width:3px,color:#fff
    style Insight fill:#E8E8E8,stroke:#5f6368,stroke-width:2px,color:#000
    style M1 fill:#1B3A57,stroke:#FF3621,stroke-width:2px,color:#fff
    style M2 fill:#1B3A57,stroke:#FF3621,stroke-width:2px,color:#fff
    style M3 fill:#1B3A57,stroke:#FF3621,stroke-width:2px,color:#fff
    style M4 fill:#1B3A57,stroke:#FF3621,stroke-width:2px,color:#fff
    style M5 fill:#1B3A57,stroke:#FF3621,stroke-width:2px,color:#fff
    style M6 fill:#1B3A57,stroke:#FF3621,stroke-width:2px,color:#fff
    style M7 fill:#1B3A57,stroke:#FF3621,stroke-width:2px,color:#fff
    style V1 fill:#FF3621,stroke:#1B3A57,stroke-width:2px,color:#fff
    style V2 fill:#FF3621,stroke:#1B3A57,stroke-width:2px,color:#fff
    style V3 fill:#FF3621,stroke:#1B3A57,stroke-width:2px,color:#fff
    style V4 fill:#FF3621,stroke:#1B3A57,stroke-width:2px,color:#fff
    style V5 fill:#FF3621,stroke:#1B3A57,stroke-width:2px,color:#fff
    style V6 fill:#FF3621,stroke:#1B3A57,stroke-width:2px,color:#fff
    style V7 fill:#FF3621,stroke:#1B3A57,stroke-width:2px,color:#fff
