---
name: Frontend Stage Navigation - 7-Stage Workflow + TOOLS
status: open
created: 2026-02-06T16:44:03Z
updated: 2026-02-06T16:44:03Z
github: https://github.com/databricks-field-eng/mirion-workspace/issues/8
depends_on: [2, 3, 4, 5, 6, 7]
parallel: false
conflicts_with: []
---

# Task: Frontend Stage Navigation - 7-Stage Workflow + TOOLS

## Description

Build the complete frontend navigation structure with 7 workflow stages (DATA → GENERATE → LABEL → TRAIN → DEPLOY → MONITOR → IMPROVE) plus a separate TOOLS section. Implement routing, stage pages, keyboard shortcuts, and the navigation UI. Each stage has its own page, and TOOLS section provides modal/overlay access to Templates, Example Store, and DSPy Optimizer.

**Navigation Pattern:**
- Left sidebar: 7 stages (linear progression)
- Top bar: TOOLS section dropdown (Alt+T, Alt+E, Alt+D)
- Stage pages show stage-specific content and actions

## Acceptance Criteria

- [ ] React Router configured for all 7 stages + TOOLS pages
- [ ] Navigation sidebar with stage progression indicators
- [ ] Keyboard shortcuts: Alt+T (Templates), Alt+E (Examples), Alt+D (DSPy)
- [ ] All 7 stage pages created (stub pages acceptable for TRAIN/DEPLOY/MONITOR/IMPROVE)
- [ ] TOOLS section accessible via modal/overlay
- [ ] Templates library UI (browse, create, edit templates)
- [ ] Active stage highlighted in navigation
- [ ] Responsive layout (works on desktop, scales for larger screens)
- [ ] Stage transition animations (optional polish)

## Technical Details

**Routing Structure:**
```typescript
// frontend/src/App.tsx
<Routes>
  <Route path="/" element={<Navigate to="/data" />} />
  <Route path="/data" element={<DataStage />} />
  <Route path="/generate" element={<GenerateStage />} />
  <Route path="/label" element={<LabelStage />} />
  <Route path="/train" element={<TrainStage />} />
  <Route path="/deploy" element={<DeployStage />} />
  <Route path="/monitor" element={<MonitorStage />} />
  <Route path="/improve" element={<ImproveStage />} />
  <Route path="/tools/templates" element={<TemplatesPage />} />
  <Route path="/tools/examples" element={<ExamplesPage />} />
  <Route path="/tools/dspy" element={<DSPyPage />} />
</Routes>
```

**Components:**
```
frontend/src/
├── components/navigation/
│   ├── Sidebar.tsx                # 7 stages navigation
│   ├── StageIndicator.tsx         # Progress indicator per stage
│   ├── ToolsDropdown.tsx          # TOOLS section dropdown
│   └── KeyboardShortcuts.tsx      # Global keyboard handler
├── pages/
│   ├── DataStage.tsx              # Stage 1: DATA (Sheet management)
│   ├── GenerateStage.tsx          # Stage 2: GENERATE (Training Sheet creation)
│   ├── LabelStage.tsx             # Stage 3: LABEL (Q&A review) - Task 006
│   ├── TrainStage.tsx             # Stage 4: TRAIN (stub for MVP)
│   ├── DeployStage.tsx            # Stage 5: DEPLOY (stub for MVP)
│   ├── MonitorStage.tsx           # Stage 6: MONITOR (stub for MVP)
│   ├── ImproveStage.tsx           # Stage 7: IMPROVE (stub for MVP)
│   └── tools/
│       ├── TemplatesPage.tsx      # Template library management
│       ├── ExamplesPage.tsx       # Example Store (P1 - stub for MVP)
│       └── DSPyPage.tsx           # DSPy Optimizer (P1 - stub for MVP)
└── layouts/
    └── MainLayout.tsx             # Sidebar + content layout
```

**Stage Pages to Build (MVP):**

1. **DATA Stage** - Sheet Management
   - List existing Sheets
   - Create new Sheet (form: name, description, UC table, UC volume)
   - Browse Unity Catalog tables/volumes
   - Preview Sheet data (first 10 rows)

2. **GENERATE Stage** - Training Sheet Creation
   - Select Sheet from dropdown
   - Select Template from dropdown
   - Preview: "This will generate X Q&A pairs"
   - Button: "Generate Training Sheet"
   - Show generation progress
   - Link to LABEL stage when complete

3. **LABEL Stage** - Already built in Task 006

4. **TRAIN/DEPLOY/MONITOR/IMPROVE** - Stub pages with "Coming Soon" message

**Templates Page (TOOLS):**
- List all templates (table view)
- Filter by `label_type` and `status`
- Create new template (form with all fields)
- Edit existing template
- Preview template with sample data
- Publish/archive actions

**Keyboard Shortcuts:**
```typescript
// Global keyboard shortcuts
useEffect(() => {
  const handleKeyPress = (e: KeyboardEvent) => {
    if (e.altKey && e.key === 't') {
      openToolsModal('templates')
    }
    if (e.altKey && e.key === 'e') {
      openToolsModal('examples')
    }
    if (e.altKey && e.key === 'd') {
      openToolsModal('dspy')
    }
  }
  window.addEventListener('keydown', handleKeyPress)
  return () => window.removeEventListener('keydown', handleKeyPress)
}, [])
```

**Files to Create:**
```
frontend/src/
├── App.tsx (update with routing)
├── layouts/MainLayout.tsx
├── components/navigation/
│   ├── Sidebar.tsx
│   ├── StageIndicator.tsx
│   ├── ToolsDropdown.tsx
│   └── KeyboardShortcuts.tsx
├── pages/
│   ├── DataStage.tsx
│   ├── GenerateStage.tsx
│   ├── TrainStage.tsx (stub)
│   ├── DeployStage.tsx (stub)
│   ├── MonitorStage.tsx (stub)
│   ├── ImproveStage.tsx (stub)
│   └── tools/
│       ├── TemplatesPage.tsx
│       ├── ExamplesPage.tsx (stub)
│       └── DSPyPage.tsx (stub)
```

## Dependencies

- [ ] Task 002 (Sheet API)
- [ ] Task 003 (Template API)
- [ ] Task 005 (Q&A Generation API)
- [ ] Task 006 (LABEL Stage UI)
- [ ] React Router v6 installed
- [ ] Tailwind CSS configured

## Effort Estimate

- Size: XL
- Hours: 20-28 hours
- Parallel: false (depends on Tasks 002-006)

## Definition of Done

- [ ] All routing configured and working
- [ ] Navigation sidebar displays 7 stages
- [ ] Active stage highlighted correctly
- [ ] Keyboard shortcuts (Alt+T, Alt+E, Alt+D) working
- [ ] DATA stage: Can create Sheet, see list of Sheets
- [ ] GENERATE stage: Can select Sheet + Template, trigger generation
- [ ] LABEL stage: Links to Task 006 implementation
- [ ] TRAIN/DEPLOY/MONITOR/IMPROVE: Stub pages with "Coming Soon"
- [ ] Templates page: Full CRUD operations working
- [ ] Manual navigation test: Can flow through DATA → GENERATE → LABEL
- [ ] TypeScript quality hooks pass
- [ ] Frontend CLAUDE.md updated with navigation patterns
